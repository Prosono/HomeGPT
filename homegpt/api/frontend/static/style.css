/* Custom styles to complement Tailwind classes and achieve a
   sleek, professional look inspired by the SMARTi website.  These
   styles are optional enhancements and can be tweaked to taste. */

/* Apply a subtle radial gradient to the page background and set a
   modern sans-serif font as the default. */
body {
  background: radial-gradient(circle at 30% 30%, #0f172a 0%, #0a192f 40%, #060c1f 100%);
  font-family: 'Inter', 'Segoe UI', Tahoma, sans-serif;
  min-height: 100vh;
  background-attachment: fixed;
}

/* The card container uses a glassmorphism effect.  Tailwind's
   backdrop-blur classes provide the blur; this adds a subtle
   border and more pronounced shadow. */
.card {
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(10px);
  background-color: rgba(31, 41, 55, 0.7);
}



/* Smooth transitions for the progress bar and buttons */
#progressBar {
  transition: width 0.4s ease;
}

button {
  transition: background-position 0.3s ease;
}

button:hover {
  background-position: right center;
}

/* Highlight table rows on hover for better readability */
#historyTable tr:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

/* Subtle glass look */
.card {
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  backdrop-filter: blur(10px);
  background-color: rgba(31,41,55,0.7);
}

/* Modal fade (optional) */
#detailsOverlay {
  animation: fadeIn 150ms ease-out both;
}
@keyframes fadeIn {
  from { opacity: 0 }
  to   { opacity: 1 }
}

/* Progress bar smoothness */
#progressBar { transition: width 0.4s ease }

/* Prominent, modern cards */
.analysis-card {
  width: 100%;
  text-align: left;
  background: linear-gradient(180deg, rgba(255,255,255,0.09), rgba(255,255,255,0.06));
  padding: 1.1rem 1.1rem;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 8px 24px rgba(0,0,0,0.35);
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
}

.analysis-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 14px 30px rgba(0,0,0,0.45);
  background: linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.07));
}

.analysis-header {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.analysis-icon {
  font-size: 1.6rem;
  line-height: 1;
  color: #f7c76b; /* warm accent */
}

/* =========================================================
   Modal layout: hero + masonry (variable-height cards)
   ========================================================= */

/* Square-ish, scrollable panel (already added earlier) */
.modal-panel {
  width: min(92vw, 1100px);
  height: min(92vh, 1100px);
  overflow: auto;
}

/* Hero banner at the top */
.modal-hero {
  border-radius: 18px;
  padding: 18px 18px 14px;
  margin-bottom: 16px;
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255,255,255,0.10);
  background: radial-gradient(120% 120% at 10% -10%, rgba(99,102,241,0.35), rgba(2,6,23,0.5) 55%) ,
              linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04));
  box-shadow: 0 12px 28px rgba(0,0,0,0.45);
}
.modal-hero .hero-head {
  display: flex; align-items: center; gap: 10px;
  font-weight: 800; color: #e0e7ff; font-size: 1.1rem;
  margin-bottom: 6px;
}
.modal-hero .hero-head i { font-size: 1.3rem; }
.modal-hero .hero-body { color: #e5e7eb; opacity: 0.95; }

/* Masonry columns for variable heights */
.modal-masonry {
  column-count: 1;
  column-gap: 14px;
}
@media (min-width: 720px)  { .modal-masonry { column-count: 2; } }
@media (min-width: 1220px) { .modal-masonry { column-count: 3; } }

/* Each section card flows in columns; avoid breaking inside */
.modal-section {
  display: inline-block; /* key for CSS columns */
  width: 100%;
  break-inside: avoid;
  margin: 0 0 14px;
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 16px;
  padding: 14px;
  box-shadow: 0 10px 24px rgba(0,0,0,0.35);
  background: linear-gradient(180deg, rgba(255,255,255,0.07), rgba(255,255,255,0.05));
}
.modal-section h3 {
  display: flex; align-items: center; gap: 8px;
  font-weight: 800; color: #e5e7eb; margin-bottom: 6px;
}
.modal-section h3 i { opacity: .9; }
.modal-section .section-body { color: #e5e7eb; font-size: 0.95rem; }
.section-chart { margin-top: 10px; background: rgba(0,0,0,0.25); border-radius: 10px; padding: 8px; }

/* =========================================================
   Category themes (Apple-inspired subtle gradients)
   ========================================================= */
.theme-security {
  background:
    radial-gradient(150% 140% at -10% -20%, rgba(239,68,68,0.25), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04));
  border-color: rgba(239,68,68,0.28);
}
.theme-comfort {
  background:
    radial-gradient(150% 140% at -10% -20%, rgba(59,130,246,0.25), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04));
  border-color: rgba(59,130,246,0.28);
}
.theme-energy {
  background:
    radial-gradient(150% 140% at -10% -20%, rgba(16,185,129,0.28), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04));
  border-color: rgba(16,185,129,0.30);
}
.theme-anomalies {
  background:
    radial-gradient(150% 140% at -10% -20%, rgba(245,158,11,0.30), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04));
  border-color: rgba(245,158,11,0.32);
}
.theme-presence {
  background:
    radial-gradient(150% 140% at -10% -20%, rgba(139,92,246,0.30), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04));
  border-color: rgba(139,92,246,0.32);
}
.theme-reco {
  background:
    radial-gradient(150% 140% at -10% -20%, rgba(20,184,166,0.28), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04));
  border-color: rgba(20,184,166,0.30);
}
.theme-generic {
  background:
    radial-gradient(150% 140% at -10% -20%, rgba(96,165,250,0.18), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04));
  border-color: rgba(96,165,250,0.22);
}

/* --- Preview card (grid tiles) --- */
.preview-card {
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(255,255,255,0.07), rgba(255,255,255,0.05));
  padding: 14px 16px;
  box-shadow: 0 10px 24px rgba(0,0,0,0.35);
}

.preview-head {
  display:flex; align-items:center; gap:10px; margin-bottom:8px;
}
.preview-title {
  font-weight: 800; color:#e5e7eb; letter-spacing: .2px;
}
.preview-time {
  margin-left:auto; font-size:.82rem; color:#9ca3af;
}

.preview-pills { display:flex; flex-wrap:wrap; gap:6px; margin-bottom:8px; }
.pill {
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 8px; border-radius:9999px; font-size:.78rem; font-weight:700;
  border:1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
}
.pill i { font-size:1rem; opacity:.9 }

/* themed pills */
.pill-sec    { border-color: rgba(239,68,68,.35);    background: rgba(239,68,68,.15);    color:#fecaca; }
.pill-comf   { border-color: rgba(59,130,246,.35);   background: rgba(59,130,246,.15);   color:#c7d2fe; }
.pill-ener   { border-color: rgba(16,185,129,.35);   background: rgba(16,185,129,.15);   color:#a7f3d0; }
.pill-ano    { border-color: rgba(245,158,11,.35);   background: rgba(245,158,11,.15);   color:#fde68a; }
.pill-pres   { border-color: rgba(139,92,246,.35);   background: rgba(139,92,246,.15);   color:#ddd6fe; }
.pill-reco   { border-color: rgba(20,184,166,.35);   background: rgba(20,184,166,.15);   color:#99f6e4; }

.preview-body { display:grid; grid-template-columns: 1fr auto; gap:10px; align-items:center; }
.preview-points { color:#d1d5db; font-size:.95rem; line-height:1.35; }
.preview-points strong { color:#fff; font-weight:800; }

/* clamp text to 2 lines per bullet */
.point { display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }

.preview-spark {
  width:120px; height:44px; border-radius:10px;
  background: rgba(0,0,0,.25); padding:6px 8px;
}

/* focus chip */
.focus-chip {
  display:inline-flex; align-items:center; gap:6px; margin-top:8px;
  font-size:.78rem; padding:4px 8px; border-radius:9999px;
  background: rgba(99,102,241,.18); color:#c7d2fe; border:1px solid rgba(99,102,241,.35);
}


/* Make the entire overlay scroll on mobile if needed */
#detailsOverlay { overflow: auto; }

/* ===== Animated background (aurora) ===== */
.aurora {
  position: fixed;
  inset: 0;
  z-index: 0;            /* behind your card container */
  pointer-events: none;
  overflow: hidden;
  /* subtle base gradient so edges feel cohesive */
  background: radial-gradient(1200px 800px at 15% 0%, rgba(99,102,241,.10), transparent 60%),
              radial-gradient(1000px 700px at 90% 100%, rgba(20,184,166,.08), transparent 60%);
}

/* generic blob */
.aurora .blob {
  position: absolute;
  width: 44vmax;
  aspect-ratio: 1;
  border-radius: 50%;
  filter: blur(60px);
  opacity: .28;
  mix-blend-mode: screen;         /* pretty on dark UIs */
  transform: translate3d(0,0,0);  /* GPU hint */
  will-change: transform, opacity;
  animation-timing-function: ease-in-out;
}

/* individual blobs: color + path + speed */
.aurora .b1 {
  background: radial-gradient(circle at 30% 30%, rgba(99,102,241,.60), transparent 55%);
  left: -10vmax; top: -6vmax;
  animation: driftX1 26s infinite alternate, driftY1 34s infinite alternate;
}
.aurora .b2 {
  background: radial-gradient(circle at 65% 40%, rgba(16,185,129,.55), transparent 60%);
  right: -14vmax; top: -8vmax;
  animation: driftX2 30s infinite alternate, driftY2 40s infinite alternate;
}
.aurora .b3 {
  background: radial-gradient(circle at 40% 60%, rgba(236,72,153,.50), transparent 60%);
  left: 10vmax; bottom: -12vmax;
  animation: driftX3 36s infinite alternate, driftY3 32s infinite alternate;
}
.aurora .b4 {
  background: radial-gradient(circle at 55% 45%, rgba(59,130,246,.55), transparent 58%);
  right: 5vmax; bottom: -10vmax;
  animation: driftX4 28s infinite alternate, driftY4 37s infinite alternate;
  opacity: .22;
}
.aurora .b5 {
  background: radial-gradient(circle at 50% 50%, rgba(245,158,11,.45), transparent 60%);
  left: 35vmax; top: 35vh;
  animation: driftX5 42s infinite alternate, driftY5 46s infinite alternate;
  opacity: .18;
}

/* X/Y keyframes are separated to create organic motion */
@keyframes driftX1 { from { transform: translateX(0) } to { transform: translateX(12vmax) } }
@keyframes driftY1 { from { transform: translateY(0) } to { transform: translateY(8vmax) } }

@keyframes driftX2 { from { transform: translateX(0) } to { transform: translateX(-10vmax) } }
@keyframes driftY2 { from { transform: translateY(0) } to { transform: translateY(12vmax) } }

@keyframes driftX3 { from { transform: translateX(0) } to { transform: translateX(16vmax) } }
@keyframes driftY3 { from { transform: translateY(0) } to { transform: translateY(-10vmax) } }

@keyframes driftX4 { from { transform: translateX(0) } to { transform: translateX(-14vmax) } }
@keyframes driftY4 { from { transform: translateY(0) } to { transform: translateY(-8vmax) } }

@keyframes driftX5 { from { transform: translateX(0) } to { transform: translateX(10vmax) } }
@keyframes driftY5 { from { transform: translateY(0) } to { transform: translateY(10vmax) } }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .aurora .blob { animation: none; opacity: .12 }
}

/* Ensure your main card sits above the background */
.card, #analysisGrid, header, main, footer {
  position: relative;
  z-index: 1;
}
